version: "3.9"

services:
  alfred-core:
    build: .
    ports:
      - "11435:11435"
    environment:
      - API_SERVER_PORT=11435
      - LLM_PROVIDER=oai
      - LLM_MODEL=gemma3-12b
      - LLM_VL_MODEL=gemma3-12b
      - LLM_CODE_MODEL=gemma3-12b
      - LLM_ROUTE_MODEL=gemma3-12b
      - LLM_BASE_URL=http://host.docker.internal:1100/v1
      - LLM_API_KEY=ollama
      - LLM_TEMPERATURE=0.3
      - DAILY_HOT_API_BASE=http://host.docker.internal:6688
      - WEB_SUMMARY_API=http://host.docker.internal:8001/summarize
    restart: unless-stopped
